p8105\_hw2\_hf2379
================
Holly Finertie
9/28/2019

# Problem 1:

## Read and clean data sets

``` r
library(readxl)

trash_wheel = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 1, range = "A2:N338") %>% 
  janitor::clean_names() %>% 
  drop_na(dumpster) %>% 
  mutate(
      sports_balls = round(sports_balls, digits=0), 
      sports_balls = as.integer(sports_balls))

precip_2017 = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 4, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2017)

precip_2018 = read_excel("./data/HealthyHarborWaterWheelTotals2018-7-28.xlsx", 3, range = "A2:B14") %>% 
  janitor::clean_names() %>% 
  drop_na(total) %>% 
  mutate(year = 2018)

precip_combined_2017_2018 = 
  bind_rows(precip_2017, precip_2018) %>% 
  mutate(month = month.name[month])
```

Two data sets have been successfully imported and cleaned: (1)
trash\_wheel and (2) precip\_both\_years.

**trash\_wheel**: This data set has 285 observations and 14 columns
describing the weight and volume of trash pulled out of the Inner Harbor
in Baltimore by month from 2014 to 2018. Additional variables describe
the type of trash pulled (e.g. plastic\_bottles, cigarette\_butts, and
sports\_balls). For example, in 2014 Mr. Trash Wheel pulled out 141.35
tons and 669 cubic yards of trash. Additionally, in 2017 the median
number of sports balss in a dumpster pulled from Mr. Trash Wheel was 8.

**precip\_both\_years**: This data set has 19 observations and 3 columns
describing the total precipation in inches by month from 2017 to 2018.
For example, from the table we know that the precipitation in January
2018 was 0.96 inches and total precipation in 2018 was 23.5 inches.

# Problem 2:

``` r
pols_month = read_csv("./data/pols-month.csv") %>% 
  janitor::clean_names() %>% 
  separate(mon, into = c("year", "month", "day")) %>% 
  mutate(
      month = as.numeric(month),
      month = month.name[month],
      year = as.numeric(year),
      president = recode(prez_gop, `1` = "gop", `2`="gop", `0`="dem")
      ) %>% 
  select(-day, -prez_gop, -prez_dem)
```

    ## Parsed with column specification:
    ## cols(
    ##   mon = col_date(format = ""),
    ##   prez_gop = col_double(),
    ##   gov_gop = col_double(),
    ##   sen_gop = col_double(),
    ##   rep_gop = col_double(),
    ##   prez_dem = col_double(),
    ##   gov_dem = col_double(),
    ##   sen_dem = col_double(),
    ##   rep_dem = col_double()
    ## )

``` r
snp = read_csv("./data/snp.csv") %>% 
  janitor::clean_names() %>% 
  separate(date, into = c("month", "day", "year")) %>% 
  select("year", "month", everything()) %>% 
  mutate(
      month = as.numeric(month),
      year = as.numeric(year)) %>% 
  arrange(year, month) %>% 
  mutate(month = month.name[month])
```

    ## Parsed with column specification:
    ## cols(
    ##   date = col_character(),
    ##   close = col_double()
    ## )

``` r
unemploy = read_csv("./data/unemployment.csv") %>% 
  pivot_longer(Jan:Dec, names_to = "month", values_to = "unemploy_perc") %>% 
  mutate(
    month = match(month,month.abb),
    month = month.name[month]) %>% 
 janitor::clean_names()
```

    ## Parsed with column specification:
    ## cols(
    ##   Year = col_double(),
    ##   Jan = col_double(),
    ##   Feb = col_double(),
    ##   Mar = col_double(),
    ##   Apr = col_double(),
    ##   May = col_double(),
    ##   Jun = col_double(),
    ##   Jul = col_double(),
    ##   Aug = col_double(),
    ##   Sep = col_double(),
    ##   Oct = col_double(),
    ##   Nov = col_double(),
    ##   Dec = col_double()
    ## )

``` r
snp_pols = 
  left_join(pols_month, snp, by = c("month" = "month", "year" = "year"))

final_table_538 = 
    left_join(snp_pols, unemploy, by = c("month" = "month", "year" = "year"))
```

From Five ThirtyEight, we imported 3 data sets. The first, pols\_month,
included information on the number of politicans per party affiliation
by month and year from 1947 to 2015. From this information, we created a
new variable named president describing the party affiliation of the
president at that date in time. Additionally, we imported a data set
call snp containg the Standard & Poor’s stock market index (S\&P)
closing value at each date in time from 1950 to 2015 by month. Last, we
imported and tidied a data set with unemployment percentages by month
and year from 1948 to 2015. We used these three data sets to create a
final table with 822 observations and 12 variables. It contains
information on unemployment rates (unemploy\_perc), the stock market
index (close), and political affiliation of the president (president) by
month and year from 1947 to 2015.
